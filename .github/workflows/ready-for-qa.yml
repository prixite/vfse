# Once the PR is close, Add labels to the linked issue and assign to umairwaheed
name: Ready For QA
on: 
 pull_request:
    types:
      - closed

jobs:
  linked_issues:
    runs-on: ubuntu-latest
    name: Ready for QA
    steps:
      - name: if_pr
        if: github.event.pull_request
        run: |
          echo A pull request was closed
          echo ${{github.event.pull_request.number}}
          gh pr view "${{github.event.pull_request.number}}"
      # - name: Find Linked Issue
      #   id: linked-issue
      #   run: echo "Finding linked issue number"
      # - uses: actions/checkout@v3
      # - env:
      #     GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      #   run: |
      #     gh pr view
      #     gh pr status --json
 #     gh pr view
      #     gh pr status --json

      # - name: Output linked Issues list 
      #   run: echo "${{ steps.links.outputs.issues }}"
      # - uses: actions/checkout@v3
      # - env:
      #     GITHUB_TOKEN: ${{ secrets.MGITHUB_TOKEN }}
      #     -name: Upon Merge Approval Reassign to QA with Label
      #   run: |
      #     gh issue edit "${{ steps.links.outputs.issues }}" --remove-assignee "@me"
      #     gh issue reopen "${{ steps.links.outputs.issues }}"
      #     gh issue edit "${{ steps.links.outputs.issues }}" --add-label "testingLabel"
      #     gh issue edit "${{ steps.links.outputs.issues }}" --add-assignee umairwaheed